Version 4
SHEET 1 3712 1124
WIRE 640 48 480 48
WIRE 480 96 480 48
WIRE 640 272 640 48
WIRE 656 272 640 272
WIRE 832 288 720 288
WIRE 1072 288 1072 256
WIRE 368 304 272 304
WIRE 656 304 368 304
WIRE 1968 320 1904 320
WIRE 368 336 368 304
WIRE 1968 352 1968 320
WIRE 832 432 832 288
WIRE 928 432 832 432
WIRE 1072 432 1072 368
WIRE 1072 432 992 432
WIRE 1696 480 1552 480
WIRE 752 528 576 528
WIRE 928 544 816 544
WIRE 1072 544 1072 432
WIRE 1072 544 992 544
WIRE 1296 544 1072 544
WIRE 1440 544 1440 528
WIRE 1440 544 1376 544
WIRE 752 560 736 560
WIRE 1904 560 1904 320
WIRE 1952 560 1904 560
WIRE 1552 576 1552 480
WIRE 1600 576 1552 576
WIRE 2144 576 2016 576
WIRE 1696 592 1696 480
WIRE 1696 592 1664 592
WIRE 1952 592 1696 592
WIRE 1440 608 1440 544
WIRE 1600 608 1440 608
WIRE 576 624 576 528
WIRE 736 640 736 560
WIRE 816 640 736 640
WIRE 816 656 816 640
WIRE 736 688 736 640
FLAG 688 320 0
FLAG 1984 608 0
FLAG 1440 464 0
FLAG 576 704 0
FLAG 784 576 0
FLAG 2144 576 Output
IOPIN 2144 576 Out
FLAG 272 304 MotorSensor
IOPIN 272 304 In
FLAG 736 688 BrakeSensor
IOPIN 736 688 In
FLAG 80 832 0
FLAG 80 752 +5V
FLAG 784 512 +5V
FLAG 688 256 +5V
FLAG 1984 544 +5V
FLAG 368 416 0
FLAG 480 176 0
FLAG 1072 256 +5V
FLAG 1968 432 0
FLAG 1632 560 +5V
FLAG 1632 624 0
FLAG 816 736 0
SYMBOL voltage 368 320 R0
WINDOW 0 83 210 VBottom 2
WINDOW 3 55 207 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(1.14 5 1 1 1)
SYMBOL cap 1424 464 R0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL voltage 576 608 R0
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName BrakeRef
SYMATTR Value 2.89V
SYMBOL voltage 80 736 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vsupply
SYMATTR Value 5V
SYMBOL voltage 480 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName MotorRef
SYMATTR Value 3.1
SYMBOL res 1056 272 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL Comparators\\LT1720 688 224 R0
SYMATTR InstName U1
SYMBOL Comparators\\LT1720 784 480 R0
SYMATTR InstName U2
SYMBOL Comparators\\LT1720 1984 512 R0
SYMATTR InstName U3
SYMBOL voltage 1968 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName DelayRef
SYMATTR Value 4
SYMBOL res 1392 528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R
SYMATTR Value 220k
SYMBOL OpAmps\\UniversalOpAmp2 1632 592 R0
SYMATTR InstName U4
SYMBOL diode 992 416 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMBOL diode 992 528 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMBOL voltage 816 640 R0
WINDOW 0 83 210 VBottom 2
WINDOW 3 55 207 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(1.14 5 1 1 1)
TEXT 512 904 Left 2 !.tran 5
TEXT 720 136 Left 2 ;Can replace all LT1720 chips with other +5V capable comparators
TEXT 1272 424 Left 2 ;0.44ms time const.
TEXT 968 600 Left 2 ;AND logic
TEXT 2120 392 Left 2 ;Triggers after about 0.4s. This considers the 0.7V offset into delay (filter) from diodes
TEXT 720 168 Left 2 ;Must have low offset voltage (<5mV when above normal operating temperature)
TEXT 248 688 Left 2 ;see calcs spreadsheet -->
TEXT 1416 664 Left 2 ;this is an op-amp, NOT a comparator
